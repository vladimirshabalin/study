$(document).ready(()=>{let e=new Menu("menu","main-menu",[new MenuItem("index.html","home","menu-item"),new MenuItem("#","men","menu-item"),new MenuItem("#","women","menu-item"),new MenuItem("#","kids","menu-item"),new SubMenu("menu-item","#","accosiriese","sub-menu","sub-menu",[new MenuItem("#","Dresses","sub-menu-item"),new MenuItem("#","Tops","sub-menu-item"),new MenuItem("#","Sweaters/Coats","sub-menu-item"),new MenuItem("#","Jackets/Knits","sub-menu-item"),new MenuItem("#","Blazers","sub-menu-item"),new MenuItem("#","Leggings/Pants","sub-menu-item"),new MenuItem("#","Skirts/Shorts","sub-menu-item"),new MenuItem("#","Accessories","sub-menu-item")]),new MenuItem("#","featured","menu-item"),new MenuItem("#","hot deals","menu-item")]);$("#menu").html(e.render());let t=new Cart;t._renderShCart(),$(".grand-total-price").text(`$${t.amount}`),$(".sub-total-price").text(`${t.countGoods}`),0==t.countGoods?t._renderSum(0,0):$(".cart-num").css("display","block").text(t.countGoods),$(".cart-add-btn").on("click",function(){t._addProduct(this),$(this).closest(".goods-item").clone().css({position:"absolute","z-index":"10001",top:$(this).offset().top-100,left:$(this).offset().left-55}).appendTo("body").animate({opacity:.5,left:$(".cart-icon").offset().left,top:$(".cart-icon").offset().top,width:32,height:20},1e3,function(){$(this).remove()}),$(".cart-num").css("display","block").text(t.countGoods)}),$("#cart-btn").on("click",function(){$("#cart").css({display:"block"}).animate({right:"0"},400),$(".wrapper").css({pointerEvents:"none",filter:"blur(3px)"})}),$(".cart-close").on("click",function(){$("#cart").animate({right:"-600"},400),$(".wrapper").css({pointerEvents:"auto",filter:"none"})});let n=new tingle.modal;$(".authorization-btn").on("click",function(){$(".authorization-modal-wrapper").attr("display","block"),n.setContent($(".authorization-modal-wrapper").html()),n.open(),$("#tel").mask("+7 (000) 000 00 00"),jQuery.validator.addMethod("checkName",function(e,t){return this.optional(t)||/^[a-zа-я\-]{1,30}$/i.test(e)},"Имя задано не верно"),jQuery.validator.addMethod("checkEmail",function(e,t){return this.optional(t)||/^[a-z\@]{1,30}\.[rucom]{2,3}$/.test(e)},"Email задано не верно"),jQuery.validator.addMethod("checkText",function(e,t){return this.optional(t)||/^.{1,200}$/i.test(e)},"Текст должен содержать не более 200 символов"),$("#form-authorization").validate({rules:{password:{required:!0,minlength:8},email:{required:!0,checkEmail:!0}},messages:{password:{required:"Введите пароль",minlength:"Пароль не может быть менее 8 символов"},email:{required:"Введите Email",email:"Email в зонах .ru и .com"}}}),$("#form-registration").validate({rules:{password:{required:!0,minlength:8},username:{required:!0,checkName:!0},email:{required:!0,checkEmail:!0},tel:{required:!0,minlength:18}},messages:{password:{required:"Введите пароль",minlength:"Пароль не может быть менее 8 символов"},username:{required:"Введите ваше Имя",checkName:"Можно использовать только буквы и тире"},email:{required:"Введите Email",email:"Email в зонах .ru и .com"},tel:{required:"Введите ваш номер телефона",minlength:"Не хватает цифр"}}})}),$(".tingle-modal-box").on("click",".authorization-tab",function(){$(this).addClass("authorization-active-tab").siblings().removeClass("authorization-active-tab"),"authorization"===$(this).text()?($(".tingle-modal-box").find("#authorization").addClass("authorization-active"),$(".tingle-modal-box").find("#registration").removeClass("authorization-active")):($(".tingle-modal-box").find("#registration").addClass("authorization-active"),$(".tingle-modal-box").find("#authorization").removeClass("authorization-active"))})});